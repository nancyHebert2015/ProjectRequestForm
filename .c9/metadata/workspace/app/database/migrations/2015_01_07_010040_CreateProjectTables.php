{"changed":true,"filter":false,"title":"2015_01_07_010040_CreateProjectTables.php","tooltip":"/app/database/migrations/2015_01_07_010040_CreateProjectTables.php","value":"<?php\n\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass CreateProjectTables extends Migration {\n\n\t/**\n\t * Run the migrations.\n\t *\n\t * @return void\n\t */\n\tpublic function up()\n\t{\n\t\t\n\t\tSchema::create('users', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = 'InnoDB';\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->string('remember_token');\n\t\t\t$table->string('username');\n\t\t\t$table->string('password');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\t\t\n\t\tSchema::create('meeting', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = 'InnoDB';\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->dateTime('datetime')->unique();\n\t\t\t$table->text('location');\n\t\t\t$table->integer('type');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\t\n\t\t\n\t\tSchema::create('glossary', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->string('term');\n\t\t\t$table->string('definition');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\t\n\t\t\t\n\t\tSchema::create('checklist', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->enum('status', array('assigned', 'unassigned', 'started', 'completed'))->default('unassigned');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\t\t\n\t\tSchema::create('project', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->enum('status', array('new', 'pending', 'approved', 'rejected'))->default('pending');\n\t\t\t$table->enum('projectType', array('1', '2', '3'))->default('1');\n\t\t\t$table->string('projectDescription');\n\t\t\t$table->text('rationale');\n\t\t\t$table->text('scope');\n\t\t\t$table->date('deadline');\n\t\t\t$table->date('startDate');\n\t\t\t$table->date('endDate');\n\t\t\t$table->date('background');\n\t\t\t$table->text('projectDescriptionLong');\n\t\t\t$table->text('reportingManagement');\n\t\t\t$table->text('notes');\n\t\t\t$table->string('CI');\n\t\t\t$table->string('ReleaseNo');\n\t\t\t$table->timestamps();\n\t\t\n\t\t});\n\t\t\n\t\t\n\t\tSchema::create('department', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = 'InnoDB';\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('project_id')->unsigned()->unique();\n\t\t\t$table->foreign('project_id')->references('id')->on('project');\n\t\t\t$table->string('name');\n\t\t\t$table->timestamps();\n\t\t\n\t\t});\n\t\t\n\t\tSchema::create('stakeholder', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('project_id')->unsigned()->unique();\n\t\t\t$table->foreign('project_id')->references('id')->on('project');\n\t\t\t$table->string('name');\n\t\t\t$table->string('title');\n\t\t\t$table->integer('role');\n\t\t\t$table->text('responsibilities');\n\t\t\t$table->integer('order');\n\t\t\t$table->boolean('distributeTo');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\t\tSchema::create('deliverable', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('project_id')->unsigned()->unique();\n\t\t\t$table->foreign('project_id')->references('id')->on('project');\n\t\t\t$table->string('name');\n\t\t\t$table->date('startDate');\n\t\t\t$table->date('endDate');\n\t\t\t$table->text('objective');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\t\tSchema::create('meeting_project', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('meeting_id')->unsigned();\n\t\t\t$table->integer('project_id')->unsigned();\n\t\t\t$table->foreign('meeting_id')->references('id')->on('meeting');\n\t\t\t$table->foreign('project_id')->references('id')->on('project');\n\t\t\t$table->timestamps();\n\t\t\n\t\t});\n\t\t\n\t\t\n\t\tSchema::create('project_glossary', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('glossary_id')->unsigned();\n\t\t\t$table->foreign('glossary_id')->references('id')->on('glossary');\n\t\t\t$table->integer('project_id')->unsigned();\n\t\t\t$table->foreign('project_id')->references('id')->on('project');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\n\t\tSchema::create('project_checklist', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('checklist_id')->unsigned();\n\t\t\t$table->foreign('checklist_id')->references('id')->on('checklist');\n\t\t\t$table->integer('project_id')->unsigned();\n\t\t\t$table->foreign('project_id')->references('id')->on('project');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\t\t\n\t\t\n\t\tSchema::create('role', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('stakeholder_id')->unsigned()->unique();\n\t\t\t$table->foreign('stakeholder_id')->references('id')->on('stakeholder');\n\t\t\t$table->string('name');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\t\t\n\t\tSchema::create('document', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('deliverable_id')->unsigned();\n\t\t\t$table->foreign('deliverable_id')->references('id')->on('deliverable');\n\t\t\t$table->string('path');\n\t\t\t$table->enum('docType', array('.doc', '.html', '.php'))->default('.doc');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\t\t\n\t\tSchema::create('raci', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('document_id')->unsigned()->unique();\n\t\t\t$table->foreign('document_id')->references('id')->on('document');\n\t\t\t$table->enum('responsibility', array('1', '2', '3', '4'))->default('1');\n\t\t\t$table->integer('role_id')->unsigned()->unique();\n\t\t\t$table->foreign('role_id')->references('id')->on('role');\n\t\t\t$table->timestamps();\n\t\t});\n\t\t\n\t\t\n\t\tSchema::create('revision', function(Blueprint $table)\n\t\t{\n\t\t\t$table->engine = \"InnoDB\";\n\t\t\t$table->increments('id')->unique();\n\t\t\t$table->integer('document_id')->unsigned()->unique();\n\t\t\t$table->foreign('document_id')->references('id')->on('document');\n\t\t\t$table->date('date');\n\t\t\t$table->string('summary');\n\t\t\t$table->string('author');\n\t\t\t$table->string('reviewerApprover');\n\t\t\t$table->string('version');\n\t\t\t$table->timestamps();\n\t\t});\n\t}\n\t/**\n\t * Reverse the migrations.\n\t *\n\t * @return void\n\t */\n\tpublic function down()\n\t{\n\t\tSchema::drop('users');\n\t\t/*Schema::drop('revision');\n\t\tSchema::drop('raci');\n\t\tSchema::drop('role');\n\t\tSchema::drop('stakeholder');\n\t\tSchema::drop('project_glossary');\n\t\tSchema::drop('project_checklist');\n\t\tSchema::drop('meeting_project');\n\t\tSchema::drop('project_stakeholder');\n\t\tSchema::drop('meeting');\n\t\tSchema::drop('glossary');\n\t\tSchema::drop('document');\n\t\tSchema::drop('department');\n\t\tSchema::drop('deliverable');\n\t\tSchema::drop('checklist');\n\t\tSchema::drop('project');*/\n\t}\n\n}\n","undoManager":{"mark":11,"position":18,"stack":[[{"group":"doc","deltas":[{"start":{"row":26,"column":5},"end":{"row":27,"column":0},"action":"insert","lines":["",""]},{"start":{"row":27,"column":0},"end":{"row":27,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":2},"end":{"row":28,"column":0},"action":"insert","lines":["",""]},{"start":{"row":28,"column":0},"end":{"row":28,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":1},"end":{"row":30,"column":2},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":0},"end":{"row":30,"column":1},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":2},"end":{"row":30,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":1},"end":{"row":29,"column":2},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":0},"end":{"row":29,"column":1},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":2},"end":{"row":29,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":218,"column":2},"end":{"row":218,"column":3},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":218,"column":3},"end":{"row":218,"column":4},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":232,"column":26},"end":{"row":232,"column":27},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":232,"column":27},"end":{"row":232,"column":28},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":0},"end":{"row":15,"column":1},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":1},"end":{"row":15,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":1},"end":{"row":14,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":0},"end":{"row":13,"column":1},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":21},"end":{"row":13,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":205,"column":2},"end":{"row":206,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":20,"column":0},"end":{"row":20,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1420680705002}